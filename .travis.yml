sudo: required
dist: trusty
language: generic
services: docker

before_script:
    - export IMAGE="renemilk/zombicide_dicing"
    - docker pull ${IMAGE}
    - export ENV_FILE=${HOME}/env
    - printenv | \grep TRAVIS > ${ENV_FILE}
    - export DOCKER_RUN="docker run --env-file ${ENV_FILE} -v ${TRAVIS_BUILD_DIR}:/home/dicing/build ${IMAGE}"

script:
    - ${DOCKER_RUN}

notifications:
  email:
    on_success: change
    on_failure: change

